/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/select2@4.0.3/src/js/select2/results.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
define(["jquery","./utils"],function(e,t){function s(e,t,r){this.$element=e,this.data=r,this.options=t,s.__super__.constructor.call(this)}return t.Extend(s,t.Observable),s.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},s.prototype.clear=function(){this.$results.empty()},s.prototype.displayMessage=function(t){var s=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),l=this.options.get("translations").get(t.message);r.append(s(l(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},s.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},s.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var s=0;s<e.results.length;s++){var r=e.results[s],l=this.option(r);t.push(l)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},s.prototype.position=function(e,t){t.find(".select2-results").append(e)},s.prototype.sort=function(e){return this.options.get("sorter")(e)},s.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},s.prototype.setClasses=function(){var t=this;this.data.current(function(s){var r=e.map(s,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var t=e(this),s=e.data(this,"data"),l=""+s.id;null!=s.element&&s.element.selected||null==s.element&&e.inArray(l,r)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},s.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},s=this.option(t);s.className+=" loading-results",this.$results.prepend(s)},s.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},s.prototype.option=function(t){var s=document.createElement("li");s.className="select2-results__option";var r={role:"treeitem","aria-selected":"false"};for(var l in t.disabled&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==t.id&&delete r["aria-selected"],null!=t._resultId&&(s.id=t._resultId),t.title&&(s.title=t.title),t.children&&(r.role="group",r["aria-label"]=t.text,delete r["aria-selected"]),r){var i=r[l];s.setAttribute(l,i)}if(t.children){var o=e(s),n=document.createElement("strong");n.className="select2-results__group";e(n);this.template(t,n);for(var a=[],u=0;u<t.children.length;u++){var p=t.children[u],h=this.option(p);a.push(h)}var d=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(a),o.append(n),o.append(d)}else this.template(t,s);return e.data(s,"data",t),s},s.prototype.bind=function(t,s){var r=this,l=t.id+"-results";this.$results.attr("id",l),t.on("results:all",function(e){r.clear(),r.append(e.data),t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("results:append",function(e){r.append(e.data),t.isOpen()&&r.setClasses()}),t.on("query",function(e){r.hideMessages(),r.showLoading(e)}),t.on("select",function(){t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),t.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=r.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),s=t.index(e);if(0!==s){var l=s-1;0===e.length&&(l=0);var i=t.eq(l);i.trigger("mouseenter");var o=r.$results.offset().top,n=i.offset().top,a=r.$results.scrollTop()+(n-o);0===l?r.$results.scrollTop(0):n-o<0&&r.$results.scrollTop(a)}}),t.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),s=t.index(e)+1;if(!(s>=t.length)){var l=t.eq(s);l.trigger("mouseenter");var i=r.$results.offset().top+r.$results.outerHeight(!1),o=l.offset().top+l.outerHeight(!1),n=r.$results.scrollTop()+o-i;0===s?r.$results.scrollTop(0):o>i&&r.$results.scrollTop(n)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),s=r.$results.get(0).scrollHeight-t+e.deltaY,l=e.deltaY>0&&t-e.deltaY<=0,i=e.deltaY<0&&s<=r.$results.height();l?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var s=e(this),l=s.data("data");"true"!==s.attr("aria-selected")?r.trigger("select",{originalEvent:t,data:l}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:t,data:l}):r.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var s=e(this).data("data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:s,element:e(this)})})},s.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},s.prototype.destroy=function(){this.$results.remove()},s.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),s=this.$results.offset().top,r=e.offset().top,l=this.$results.scrollTop()+(r-s),i=r-s;l-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(l)}},s.prototype.template=function(t,s){var r=this.options.get("templateResult"),l=this.options.get("escapeMarkup"),i=r(t,s);null==i?s.style.display="none":"string"==typeof i?s.innerHTML=l(i):e(s).append(i)},s});
//# sourceMappingURL=/sm/e0f9b75d2fd470b3abdb4b01cc85c6eaf24fc5cb71e6f52f16965cc1c83ab29a.map