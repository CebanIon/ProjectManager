/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/admin-lte@3.2.0/build/js/SidebarSearch.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $,{trim}from"jquery";const NAME="SidebarSearch",DATA_KEY="lte.sidebar-search",JQUERY_NO_CONFLICT=$.fn[NAME],CLASS_NAME_OPEN="sidebar-search-open",CLASS_NAME_ICON_SEARCH="fa-search",CLASS_NAME_ICON_CLOSE="fa-times",CLASS_NAME_HEADER="nav-header",CLASS_NAME_SEARCH_RESULTS="sidebar-search-results",CLASS_NAME_LIST_GROUP="list-group",SELECTOR_DATA_WIDGET='[data-widget="sidebar-search"]',SELECTOR_SIDEBAR=".main-sidebar .nav-sidebar",SELECTOR_NAV_LINK=".nav-link",SELECTOR_NAV_TREEVIEW=".nav-treeview",SELECTOR_SEARCH_INPUT=`${SELECTOR_DATA_WIDGET} .form-control`,SELECTOR_SEARCH_BUTTON=`${SELECTOR_DATA_WIDGET} .btn`,SELECTOR_SEARCH_ICON=`${SELECTOR_SEARCH_BUTTON} i`,SELECTOR_SEARCH_LIST_GROUP=".list-group",SELECTOR_SEARCH_RESULTS=".sidebar-search-results",SELECTOR_SEARCH_RESULTS_GROUP=".sidebar-search-results .list-group",Default={arrowSign:"->",minLength:3,maxResults:7,highlightName:!0,highlightPath:!1,highlightClass:"text-light",notFoundText:"No element found!"},SearchItems=[];class SidebarSearch{constructor(e,t){this.element=e,this.options=$.extend({},Default,t),this.items=[]}init(){0!==$(SELECTOR_DATA_WIDGET).length&&(0===$(SELECTOR_DATA_WIDGET).next(SELECTOR_SEARCH_RESULTS).length&&$(SELECTOR_DATA_WIDGET).after($("<div />",{class:"sidebar-search-results"})),0===$(SELECTOR_SEARCH_RESULTS).children(".list-group").length&&$(SELECTOR_SEARCH_RESULTS).append($("<div />",{class:"list-group"})),this._addNotFound(),$(SELECTOR_SIDEBAR).children().each(((e,t)=>{this._parseItem(t)})))}search(){const e=$(SELECTOR_SEARCH_INPUT).val().toLowerCase();if(e.length<this.options.minLength)return $(SELECTOR_SEARCH_RESULTS_GROUP).empty(),this._addNotFound(),void this.close();const t=SearchItems.filter((t=>t.name.toLowerCase().includes(e))),s=$(t.slice(0,this.options.maxResults));$(SELECTOR_SEARCH_RESULTS_GROUP).empty(),0===s.length?this._addNotFound():s.each(((e,t)=>{$(SELECTOR_SEARCH_RESULTS_GROUP).append(this._renderItem(escape(t.name),encodeURI(t.link),t.path))})),this.open()}open(){$(SELECTOR_DATA_WIDGET).parent().addClass(CLASS_NAME_OPEN),$(SELECTOR_SEARCH_ICON).removeClass("fa-search").addClass("fa-times")}close(){$(SELECTOR_DATA_WIDGET).parent().removeClass(CLASS_NAME_OPEN),$(SELECTOR_SEARCH_ICON).removeClass("fa-times").addClass("fa-search")}toggle(){$(SELECTOR_DATA_WIDGET).parent().hasClass(CLASS_NAME_OPEN)?this.close():this.open()}_parseItem(e,t=[]){if($(e).hasClass("nav-header"))return;const s={},a=$(e).clone().find("> .nav-link"),E=$(e).clone().find("> .nav-treeview"),i=a.attr("href"),n=a.find("p").children().remove().end().text();if(s.name=this._trimText(n),s.link=i,s.path=t,0===E.length)SearchItems.push(s);else{const e=s.path.concat([s.name]);E.children().each(((t,s)=>{this._parseItem(s,e)}))}}_trimText(e){return trim(e.replace(/(\r\n|\n|\r)/gm," "))}_renderItem(e,t,s){if(s=s.join(` ${this.options.arrowSign} `),e=unescape(e),t=decodeURI(t),this.options.highlightName||this.options.highlightPath){const t=$(SELECTOR_SEARCH_INPUT).val().toLowerCase(),a=new RegExp(t,"gi");this.options.highlightName&&(e=e.replace(a,(e=>`<strong class="${this.options.highlightClass}">${e}</strong>`))),this.options.highlightPath&&(s=s.replace(a,(e=>`<strong class="${this.options.highlightClass}">${e}</strong>`)))}const a=$("<a/>",{href:decodeURIComponent(t),class:"list-group-item"}),E=$("<div/>",{class:"search-title"}).html(e),i=$("<div/>",{class:"search-path"}).html(s);return a.append(E).append(i),a}_addNotFound(){$(SELECTOR_SEARCH_RESULTS_GROUP).append(this._renderItem(this.options.notFoundText,"#",[]))}static _jQueryInterface(e){let t=$(this).data(DATA_KEY);t||(t=$(this).data());const s=$.extend({},Default,"object"==typeof e?e:t),a=new SidebarSearch($(this),s);$(this).data(DATA_KEY,"object"==typeof e?e:t),"string"==typeof e&&/init|toggle|close|open|search/.test(e)?a[e]():a.init()}}$(document).on("click",SELECTOR_SEARCH_BUTTON,(e=>{e.preventDefault(),SidebarSearch._jQueryInterface.call($(SELECTOR_DATA_WIDGET),"toggle")})),$(document).on("keyup",SELECTOR_SEARCH_INPUT,(e=>38==e.keyCode?(e.preventDefault(),void $(SELECTOR_SEARCH_RESULTS_GROUP).children().last().focus()):40==e.keyCode?(e.preventDefault(),void $(SELECTOR_SEARCH_RESULTS_GROUP).children().first().focus()):void setTimeout((()=>{SidebarSearch._jQueryInterface.call($(SELECTOR_DATA_WIDGET),"search")}),100))),$(document).on("keydown",SELECTOR_SEARCH_RESULTS_GROUP,(e=>{const t=$(":focus");38==e.keyCode&&(e.preventDefault(),t.is(":first-child")?t.siblings().last().focus():t.prev().focus()),40==e.keyCode&&(e.preventDefault(),t.is(":last-child")?t.siblings().first().focus():t.next().focus())})),$(window).on("load",(()=>{SidebarSearch._jQueryInterface.call($(SELECTOR_DATA_WIDGET),"init")})),$.fn[NAME]=SidebarSearch._jQueryInterface,$.fn[NAME].Constructor=SidebarSearch,$.fn[NAME].noConflict=function(){return $.fn[NAME]=JQUERY_NO_CONFLICT,SidebarSearch._jQueryInterface};export default SidebarSearch;
//# sourceMappingURL=/sm/1e55e82afe7cdd00682d700ccb8c072f13327192fa9fa2fc8bc96c9b1efc503f.map