/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/admin-lte@3.2.0/build/js/IFrame.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";const NAME="IFrame",DATA_KEY="lte.iframe",JQUERY_NO_CONFLICT=$.fn[NAME],SELECTOR_DATA_TOGGLE='[data-widget="iframe"]',SELECTOR_DATA_TOGGLE_CLOSE='[data-widget="iframe-close"]',SELECTOR_DATA_TOGGLE_SCROLL_LEFT='[data-widget="iframe-scrollleft"]',SELECTOR_DATA_TOGGLE_SCROLL_RIGHT='[data-widget="iframe-scrollright"]',SELECTOR_DATA_TOGGLE_FULLSCREEN='[data-widget="iframe-fullscreen"]',SELECTOR_CONTENT_WRAPPER=".content-wrapper",SELECTOR_CONTENT_IFRAME=".content-wrapper iframe",SELECTOR_TAB_NAV=".content-wrapper.iframe-mode .nav",SELECTOR_TAB_NAVBAR_NAV=".content-wrapper.iframe-mode .navbar-nav",SELECTOR_TAB_NAVBAR_NAV_ITEM=`${SELECTOR_TAB_NAVBAR_NAV} .nav-item`,SELECTOR_TAB_NAVBAR_NAV_LINK=`${SELECTOR_TAB_NAVBAR_NAV} .nav-link`,SELECTOR_TAB_CONTENT=".content-wrapper.iframe-mode .tab-content",SELECTOR_TAB_EMPTY=`${SELECTOR_TAB_CONTENT} .tab-empty`,SELECTOR_TAB_LOADING=`${SELECTOR_TAB_CONTENT} .tab-loading`,SELECTOR_TAB_PANE=`${SELECTOR_TAB_CONTENT} .tab-pane`,SELECTOR_SIDEBAR_MENU_ITEM=".main-sidebar .nav-item > a.nav-link",SELECTOR_SIDEBAR_SEARCH_ITEM=".sidebar-search-results .list-group-item",SELECTOR_HEADER_MENU_ITEM=".main-header .nav-item a.nav-link",SELECTOR_HEADER_DROPDOWN_ITEM=".main-header a.dropdown-item",CLASS_NAME_IFRAME_MODE="iframe-mode",CLASS_NAME_FULLSCREEN_MODE="iframe-mode-fullscreen",Default={onTabClick:e=>e,onTabChanged:e=>e,onTabCreated:e=>e,autoIframeMode:!0,autoItemActive:!0,autoShowNewTab:!0,autoDarkMode:!1,allowDuplicates:!1,allowReload:!0,loadingScreen:!0,useNavbarItems:!0,scrollOffset:40,scrollBehaviorSwap:!1,iconMaximize:"fa-expand",iconMinimize:"fa-compress"};class IFrame{constructor(e,t){this._config=t,this._element=e,this._init()}onTabClick(e){this._config.onTabClick(e)}onTabChanged(e){this._config.onTabChanged(e)}onTabCreated(e){this._config.onTabCreated(e)}createTab(e,t,a,i){let n=`panel-${a}`,r=`tab-${a}`;this._config.allowDuplicates&&(n+=`-${Math.floor(1e3*Math.random())}`,r+=`-${Math.floor(1e3*Math.random())}`);const o=`<li class="nav-item" role="presentation"><a href="#" class="btn-iframe-close" data-widget="iframe-close" data-type="only-this"><i class="fas fa-times"></i></a><a class="nav-link" data-toggle="row" id="${r}" href="#${n}" role="tab" aria-controls="${n}" aria-selected="false">${e}</a></li>`;$(SELECTOR_TAB_NAVBAR_NAV).append(unescape(escape(o)));const s=`<div class="tab-pane fade" id="${n}" role="tabpanel" aria-labelledby="${r}"><iframe src="${t}"></iframe></div>`;if($(SELECTOR_TAB_CONTENT).append(unescape(escape(s))),i)if(this._config.loadingScreen){const e=$(SELECTOR_TAB_LOADING);e.fadeIn(),$(`${n} iframe`).ready((()=>{"number"==typeof this._config.loadingScreen?(this.switchTab(`#${r}`),setTimeout((()=>{e.fadeOut()}),this._config.loadingScreen)):(this.switchTab(`#${r}`),e.fadeOut())}))}else this.switchTab(`#${r}`);this.onTabCreated($(`#${r}`))}openTabSidebar(e,t=this._config.autoShowNewTab){let a=$(e).clone();void 0===a.attr("href")&&(a=$(e).parent("a").clone()),a.find(".right, .search-path").remove();let i=a.find("p").text();""===i&&(i=a.text());const n=a.attr("href");if("#"===n||""===n||void 0===n)return;const r=unescape(n).replace("./","").replace(/["#&'./:=?[\]]/gi,"-").replace(/(--)/gi,""),o=`tab-${r}`;if(!this._config.allowDuplicates&&$(`#${o}`).length>0)return this.switchTab(`#${o}`,this._config.allowReload);(!this._config.allowDuplicates&&0===$(`#${o}`).length||this._config.allowDuplicates)&&this.createTab(i,n,r,t)}switchTab(e,t=!1){const a=$(e),i=a.attr("href");if($(SELECTOR_TAB_EMPTY).hide(),t){const e=$(SELECTOR_TAB_LOADING);this._config.loadingScreen?e.show(0,(()=>{$(`${i} iframe`).attr("src",$(`${i} iframe`).attr("src")).ready((()=>{this._config.loadingScreen&&("number"==typeof this._config.loadingScreen?setTimeout((()=>{e.fadeOut()}),this._config.loadingScreen):e.fadeOut())}))})):$(`${i} iframe`).attr("src",$(`${i} iframe`).attr("src"))}$(`${SELECTOR_TAB_NAVBAR_NAV} .active`).tab("dispose").removeClass("active"),this._fixHeight(),a.tab("show"),a.parents("li").addClass("active"),this.onTabChanged(a),this._config.autoItemActive&&this._setItemActive($(`${i} iframe`).attr("src"))}removeActiveTab(e,t){if("all"==e)$(SELECTOR_TAB_NAVBAR_NAV_ITEM).remove(),$(SELECTOR_TAB_PANE).remove(),$(SELECTOR_TAB_EMPTY).show();else if("all-other"==e)$(`${SELECTOR_TAB_NAVBAR_NAV_ITEM}:not(.active)`).remove(),$(`${SELECTOR_TAB_PANE}:not(.active)`).remove();else if("only-this"==e){const e=$(t),a=e.parent(".nav-item"),i=a.parent(),n=a.index(),r=e.siblings(".nav-link").attr("aria-controls");if(a.remove(),$(`#${r}`).remove(),$(SELECTOR_TAB_CONTENT).children().length==$(`${SELECTOR_TAB_EMPTY}, ${SELECTOR_TAB_LOADING}`).length)$(SELECTOR_TAB_EMPTY).show();else{const e=n-1;this.switchTab(i.children().eq(e).find("a.nav-link"))}}else{const e=$(`${SELECTOR_TAB_NAVBAR_NAV_ITEM}.active`),t=e.parent(),a=e.index();if(e.remove(),$(`${SELECTOR_TAB_PANE}.active`).remove(),$(SELECTOR_TAB_CONTENT).children().length==$(`${SELECTOR_TAB_EMPTY}, ${SELECTOR_TAB_LOADING}`).length)$(SELECTOR_TAB_EMPTY).show();else{const e=a-1;this.switchTab(t.children().eq(e).find("a.nav-link"))}}}toggleFullscreen(){$("body").hasClass("iframe-mode-fullscreen")?($('[data-widget="iframe-fullscreen"] i').removeClass(this._config.iconMinimize).addClass(this._config.iconMaximize),$("body").removeClass("iframe-mode-fullscreen"),$(`${SELECTOR_TAB_EMPTY}, ${SELECTOR_TAB_LOADING}`).height("100%"),$(".content-wrapper").height("100%"),$(SELECTOR_CONTENT_IFRAME).height("100%")):($('[data-widget="iframe-fullscreen"] i').removeClass(this._config.iconMaximize).addClass(this._config.iconMinimize),$("body").addClass("iframe-mode-fullscreen")),$(window).trigger("resize"),this._fixHeight(!0)}_init(){const e=$(SELECTOR_TAB_CONTENT).children().length>2;if(this._setupListeners(),this._fixHeight(!0),e){const e=$(`${SELECTOR_TAB_PANE}`).first();console.log(e);const t=`#tab-${e.attr("id").replace("panel-","")}`;this.switchTab(t,!0)}}_initFrameElement(){if(window.frameElement&&this._config.autoIframeMode){const e=$("body");e.addClass("iframe-mode"),this._config.autoDarkMode&&e.addClass("dark-mode")}}_navScroll(e){const t=$(SELECTOR_TAB_NAVBAR_NAV).scrollLeft();$(SELECTOR_TAB_NAVBAR_NAV).animate({scrollLeft:t+e},250,"linear")}_setupListeners(){$(window).on("resize",(()=>{setTimeout((()=>{this._fixHeight()}),1)})),$(".content-wrapper").hasClass("iframe-mode")&&($(document).on("click",`${SELECTOR_SIDEBAR_MENU_ITEM}, ${SELECTOR_SIDEBAR_SEARCH_ITEM}`,(e=>{e.preventDefault(),this.openTabSidebar(e.target)})),this._config.useNavbarItems&&$(document).on("click",`${SELECTOR_HEADER_MENU_ITEM}, .main-header a.dropdown-item`,(e=>{e.preventDefault(),this.openTabSidebar(e.target)}))),$(document).on("click",SELECTOR_TAB_NAVBAR_NAV_LINK,(e=>{e.preventDefault(),this.onTabClick(e.target),this.switchTab(e.target)})),$(document).on("click",SELECTOR_TAB_NAVBAR_NAV_LINK,(e=>{e.preventDefault(),this.onTabClick(e.target),this.switchTab(e.target)})),$(document).on("click",SELECTOR_DATA_TOGGLE_CLOSE,(e=>{e.preventDefault();let{target:t}=e;"I"==t.nodeName&&(t=e.target.offsetParent),this.removeActiveTab(t.attributes["data-type"]?t.attributes["data-type"].nodeValue:null,t)})),$(document).on("click",SELECTOR_DATA_TOGGLE_FULLSCREEN,(e=>{e.preventDefault(),this.toggleFullscreen()}));let e=!1,t=null;$(document).on("mousedown",SELECTOR_DATA_TOGGLE_SCROLL_LEFT,(a=>{a.preventDefault(),clearInterval(t);let{scrollOffset:i}=this._config;this._config.scrollBehaviorSwap||(i=-i),e=!0,this._navScroll(i),t=setInterval((()=>{this._navScroll(i)}),250)})),$(document).on("mousedown",SELECTOR_DATA_TOGGLE_SCROLL_RIGHT,(a=>{a.preventDefault(),clearInterval(t);let{scrollOffset:i}=this._config;this._config.scrollBehaviorSwap&&(i=-i),e=!0,this._navScroll(i),t=setInterval((()=>{this._navScroll(i)}),250)})),$(document).on("mouseup",(()=>{e&&(e=!1,clearInterval(t),t=null)}))}_setItemActive(e){$(`${SELECTOR_SIDEBAR_MENU_ITEM}, .main-header a.dropdown-item`).removeClass("active"),$(SELECTOR_HEADER_MENU_ITEM).parent().removeClass("active");const t=$(`${SELECTOR_HEADER_MENU_ITEM}[href$="${e}"]`),a=$(`.main-header a.dropdown-item[href$="${e}"]`),i=$(`${SELECTOR_SIDEBAR_MENU_ITEM}[href$="${e}"]`);t.each(((e,t)=>{$(t).parent().addClass("active")})),a.each(((e,t)=>{$(t).addClass("active")})),i.each(((e,t)=>{$(t).addClass("active"),$(t).parents(".nav-treeview").prevAll(".nav-link").addClass("active")}))}_fixHeight(e=!1){if($("body").hasClass("iframe-mode-fullscreen")){const e=$(window).height(),t=$(SELECTOR_TAB_NAV).outerHeight();$(`${SELECTOR_TAB_EMPTY}, ${SELECTOR_TAB_LOADING}, .content-wrapper iframe`).height(e-t),$(".content-wrapper").height(e)}else{const t=parseFloat($(".content-wrapper").css("height")),a=$(SELECTOR_TAB_NAV).outerHeight();1==e?setTimeout((()=>{$(`${SELECTOR_TAB_EMPTY}, ${SELECTOR_TAB_LOADING}`).height(t-a)}),50):$(SELECTOR_CONTENT_IFRAME).height(t-a)}}static _jQueryInterface(e){if($(SELECTOR_DATA_TOGGLE).length>0){let t=$(this).data(DATA_KEY);t||(t=$(this).data());const a=$.extend({},Default,"object"==typeof e?e:t);localStorage.setItem("AdminLTE:IFrame:Options",JSON.stringify(a));const i=new IFrame($(this),a);$(this).data(DATA_KEY,"object"==typeof e?e:t),"string"==typeof e&&/createTab|openTabSidebar|switchTab|removeActiveTab/.test(e)&&i[e]()}else new IFrame($(this),JSON.parse(localStorage.getItem("AdminLTE:IFrame:Options")))._initFrameElement()}}$(window).on("load",(()=>{IFrame._jQueryInterface.call($(SELECTOR_DATA_TOGGLE))})),$.fn[NAME]=IFrame._jQueryInterface,$.fn[NAME].Constructor=IFrame,$.fn[NAME].noConflict=function(){return $.fn[NAME]=JQUERY_NO_CONFLICT,IFrame._jQueryInterface};export default IFrame;
//# sourceMappingURL=/sm/34158121cb6dc5a5477c4c5b5c075912361915c850cdf1ffa3f6718a0f129147.map