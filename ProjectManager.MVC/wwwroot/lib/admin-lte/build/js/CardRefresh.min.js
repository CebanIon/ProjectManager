/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/admin-lte@3.2.0/build/js/CardRefresh.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";const NAME="CardRefresh",DATA_KEY="lte.cardrefresh",EVENT_KEY=`.${DATA_KEY}`,JQUERY_NO_CONFLICT=$.fn[NAME],EVENT_LOADED=`loaded${EVENT_KEY}`,EVENT_OVERLAY_ADDED=`overlay.added${EVENT_KEY}`,EVENT_OVERLAY_REMOVED=`overlay.removed${EVENT_KEY}`,CLASS_NAME_CARD="card",SELECTOR_CARD=".card",SELECTOR_DATA_REFRESH='[data-card-widget="card-refresh"]',Default={source:"",sourceSelector:"",params:{},trigger:SELECTOR_DATA_REFRESH,content:".card-body",loadInContent:!0,loadOnInit:!0,loadErrorTemplate:!0,responseType:"",overlayTemplate:'<div class="overlay"><i class="fas fa-2x fa-sync-alt fa-spin"></i></div>',errorTemplate:'<span class="text-danger"></span>',onLoadStart(){},onLoadDone:e=>e,onLoadFail(e,t,s){}};class CardRefresh{constructor(e,t){if(this._element=e,this._parent=e.parents(".card").first(),this._settings=$.extend({},Default,t),this._overlay=$(this._settings.overlayTemplate),e.hasClass("card")&&(this._parent=e),""===this._settings.source)throw new Error("Source url was not defined. Please specify a url in your CardRefresh source option.")}load(){this._addOverlay(),this._settings.onLoadStart.call($(this)),$.get(this._settings.source,this._settings.params,(e=>{this._settings.loadInContent&&(""!==this._settings.sourceSelector&&(e=$(e).find(this._settings.sourceSelector).html()),this._parent.find(this._settings.content).html(e)),this._settings.onLoadDone.call($(this),e),this._removeOverlay()}),""!==this._settings.responseType&&this._settings.responseType).fail(((e,t,s)=>{if(this._removeOverlay(),this._settings.loadErrorTemplate){const e=$(this._settings.errorTemplate).text(s);this._parent.find(this._settings.content).empty().append(e)}this._settings.onLoadFail.call($(this),e,t,s)})),$(this._element).trigger($.Event(EVENT_LOADED))}_addOverlay(){this._parent.append(this._overlay),$(this._element).trigger($.Event(EVENT_OVERLAY_ADDED))}_removeOverlay(){this._parent.find(this._overlay).remove(),$(this._element).trigger($.Event(EVENT_OVERLAY_REMOVED))}_init(){$(this).find(this._settings.trigger).on("click",(()=>{this.load()})),this._settings.loadOnInit&&this.load()}static _jQueryInterface(e){let t=$(this).data(DATA_KEY);const s=$.extend({},Default,$(this).data());t||(t=new CardRefresh($(this),s),$(this).data(DATA_KEY,"string"==typeof e?t:e)),"string"==typeof e&&/load/.test(e)?t[e]():t._init($(this))}}$(document).on("click",SELECTOR_DATA_REFRESH,(function(e){e&&e.preventDefault(),CardRefresh._jQueryInterface.call($(this),"load")})),$((()=>{$(SELECTOR_DATA_REFRESH).each((function(){CardRefresh._jQueryInterface.call($(this))}))})),$.fn[NAME]=CardRefresh._jQueryInterface,$.fn[NAME].Constructor=CardRefresh,$.fn[NAME].noConflict=function(){return $.fn[NAME]=JQUERY_NO_CONFLICT,CardRefresh._jQueryInterface};export default CardRefresh;
//# sourceMappingURL=/sm/f5e013f0f4adcf3312a38068f6c876d9d9b4f196f1661fec5aa62db1779f8eab.map