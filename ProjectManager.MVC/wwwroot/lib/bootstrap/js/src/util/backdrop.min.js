/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/bootstrap@5.0.0/js/src/util/backdrop.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import EventHandler from"../dom/event-handler";import{emulateTransitionEnd,execute,getTransitionDurationFromElement,reflow,typeCheckConfig}from"./index";const Default={isVisible:!0,isAnimated:!1,rootElement:document.body,clickCallback:null},DefaultType={isVisible:"boolean",isAnimated:"boolean",rootElement:"element",clickCallback:"(function|null)"},NAME="backdrop",CLASS_NAME_BACKDROP="modal-backdrop",CLASS_NAME_FADE="fade",CLASS_NAME_SHOW="show",EVENT_MOUSEDOWN="mousedown.bs."+NAME;class Backdrop{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){this._config.isVisible?(this._append(),this._config.isAnimated&&reflow(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation((()=>{execute(e)}))):execute(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation((()=>{this.dispose(),execute(e)}))):execute(e)}_getElement(){if(!this._element){const e=document.createElement("div");e.className="modal-backdrop",this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_getConfig(e){return e={...Default,..."object"==typeof e?e:{}},typeCheckConfig(NAME,e,DefaultType),e}_append(){this._isAppended||(this._config.rootElement.appendChild(this._getElement()),EventHandler.on(this._getElement(),EVENT_MOUSEDOWN,(()=>{execute(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._getElement().parentNode.removeChild(this._element),this._isAppended=!1)}_emulateAnimation(e){if(!this._config.isAnimated)return void execute(e);const t=getTransitionDurationFromElement(this._getElement());EventHandler.one(this._getElement(),"transitionend",(()=>execute(e))),emulateTransitionEnd(this._getElement(),t)}}export default Backdrop;
//# sourceMappingURL=/sm/7e5af7d02229f66d2545dea36ea06fa1b97871be7838002f22d3696cd829a8dd.map