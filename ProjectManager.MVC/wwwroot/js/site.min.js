function goToTaskManagerIndex(){startLoading();$.ajax({url:"TaskManager/Index",xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#content").html(null);$("#content").html(n);endLoading();loadTaskManagerMenu()}})}function viewProject(n){startLoading();$.ajax({url:"TaskManager/IndexContent",data:{projectId:n},xhrFields:{withCredentials:!0},method:"GET",success:function(t){$("#content").html(null);$("#content").html(t);endLoading();taskManagerLoadProject(n)}})}function editProject(n){startLoading();$.ajax({url:"TaskManager/_EditProjectModal",data:{projectId:n},xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#editProject").length&&$("#editProject").remove();$("#content").append(n);$("#editProject").modal("show");$("#datepickerStart, #datepickerEnd").datepicker({dateFormat:"yy-mm-dd",onSelect:function(){updateDatepickerValue($(this))}});$(".datepicker").each(function(){let n=$(this).attr("value");if(n!==undefined&&n!==""){let t=formatDateValue(n);$(this).val(t);$(this).attr("value",t)}});endLoading()}})}function updateDatepickerValue(n){let t=n.val()+"T00:01";n.val(t);n.attr("value",t)}function formatDateValue(n){let[t,i,r]=n.split("/");return t=t.padStart(2,"0"),i=i.padStart(2,"0"),r=r.split(" ")[0],`${r}-${t}-${i}T00:01`}function modifyProject(){var n=$("#modifyProjectForm"),t;n.valid()&&(startLoading(),t=n.attr("action"),$.ajax({url:t,xhrFields:{withCredentials:!0},data:n.serialize(),method:"POST",success:function(){$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");$("#editProject").modal("hide");endLoading()},error:function(){$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}}))}function usersOfProjectLoad(n){let t=$("#projectUserTable").DataTable({processing:!0,serverSide:!0,scrollX:!0,ajax:{url:"TaskManager/GetUsersOfProject",type:"POST",xhrFields:{withCredentials:!0},data:{projectId:n}},columns:[{data:"id",title:"Id",name:"id",visible:!1},{data:"userName",title:"UserName",name:"userName"},{data:"firstName",title:"FirstName",name:"firstName"},{data:"lastName",title:"LastName",name:"lastName"},{data:"email",title:"Email",name:"email"},{data:"isEnabled",title:"IsEnabled",name:"isEnabled"},{data:"role",title:"Role",name:"role"},{data:"isAssignedToProject",title:"IsAssigned",name:"isAssignedToProject",orderable:!1}]}),i=$("#projectUserTable").contextMenu({selector:"tr",trigger:"right",callback:function(i,r){let u=t.row(r.$trigger);switch(i){case"edit":u.data().isAssignedToProject==!0?RemoveUserFromProjectUserProjectPAge(n,u.data().id):AddUserToProjectUserProjectPAge(n,u.data().id)}},items:{edit:{name:"Add/Remove"}}})}function viewUsersOfProject(n){startLoading();$.ajax({url:"TaskManager/UsersOfProject",data:{projectId:n},xhrFields:{withCredentials:!0},"async":!1,method:"GET",success:function(t){$("#content").html(null);$("#content").html(t);endLoading();usersOfProjectLoad(n)}})}function viewCreateTask(n){startLoading();$.ajax({url:"TaskManager/_CreateTaskModal",data:{projectId:n},xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#createTask").length&&$("#createTask").remove();$("#content").append(n);$("#file").fileinput({showUpload:!1,showBrowse:!0,browseOnZoneClick:!0,showRemove:!0,overwriteInitial:!0,maxFileSize:1e4});$("#createTask").modal("show");$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}})}function createTask(n){var t,i,r;$("#kvFileinputModal").on("hidden.bs.modal",function(){$("body").css("overflow","auto")});t=$("#createTaskForm");t.valid()&&(startLoading(),i=t.attr("action"),r=new FormData(t[0]),$.ajax({url:i,xhrFields:{withCredentials:!0},data:r,contentType:!1,processData:!1,method:"POST",success:function(){$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");$("#createTask").modal("hide");endLoading();taskManagerLoadProject(n)},error:function(n){$("#content").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}}))}function goToTaskFromDashboard(n){goToTaskManagerIndex();goToTaskDetails(n)}function startLoading(){$("#loader").show()}function endLoading(){$("#loader").hide()}function userpageLoad(){let n=$("#userTable").DataTable({processing:!0,serverSide:!0,scrollX:!0,columnDefs:[{orderable:!1,className:"select-checkbox",targets:0}],select:{style:"multi",selector:"td:first-child"},ajax:{url:"User/GetAllUsers",type:"POST"},columns:[{data:"id",title:"Id",name:"id",visible:!1},{data:"userName",title:"Username",name:"userName"},{data:"firstName",title:"First Name",name:"firstName"},{data:"lastName",title:"Last Name",name:"lastName"},{data:"email",title:"Email",name:"email"},{data:"isEnabled",title:"Enabled",name:"isEnabled",render:function(n){return`<span class="badge badge-success">${n?"Enabled":"Disabled"}</span>`}},{data:"role",title:"Role",name:"role"}]}),t=$("#userTable").contextMenu({selector:"tr",trigger:"right",callback:function(t,i){console.log(n);console.log(n.rows());let r=n.row(i.$trigger);console.log(r.data());switch(t){case"details":gotToUserDetailsPage(r.data().id);break;case"edit":gotToUserEditPage(r.data().id)}},items:{edit:{name:"Edit"},details:{name:"Details"}}})}function gotToUserCreate(){startLoading();$.ajax({url:"User/Create",xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#content").html(null);$("#content").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}})}function createUser(){var n=$("#createUserForm"),t;n.valid()&&(startLoading(),t=n.attr("action"),$.ajax({url:t,xhrFields:{withCredentials:!0},data:n.serialize(),method:"POST",success:function(n){$("#contentDiv").html(null);$("#contentDiv").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");userpageLoad();endLoading()},error:function(n){$("#contentDiv").html(null);$("#contentDiv").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}}))}function modifyUser(){var n=$("#edituserForm"),t;n.valid()&&(startLoading(),t=n.attr("action"),$.ajax({url:t,xhrFields:{withCredentials:!0},data:n.serialize(),method:"POST",success:function(n){$("#contentDiv").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()},error:function(n){$("#contentDiv").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}}))}function userEditLoad(){}function goToEditProject(n){startLoading();$.ajax({url:"TaskManager/EditProject",data:{projectId:n},xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#taskManagerContent").html(null);$("#taskManagerContent").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");$("#taskManagerContent").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");$("#datepickerStart").datepicker({dateFormat:"yy-mm-dd",onSelect:function(n){n=n+"T00:01";$("#datepickerStart").val(n);$("#datepickerStart").attr("value",n)}});$("#datepickerEnd").datepicker({dateFormat:"yy-mm-dd",onSelect:function(n){n=n+"T00:01";$("#datepickerEnd").val(n);$("#datepickerEnd").attr("value",n)}});$(".datepicker").each(function(){if($(this).attr("value")!==undefined&&$(this).attr("value")!=""){let n=$(this).attr("value").split("/")[0];n=parseInt(n)>9?n:"0"+n;let t=$(this).attr("value").split("/")[1];t=parseInt(t)>9?t:"0"+t;let r=$(this).attr("value").split("/")[2].split(" ")[0],i=r+"-"+n+"-"+t+"T00:01";console.log(i);$(this).val(i);$(this).attr("value",i)}});endLoading()}})}function goToprojectDetails(n){startLoading();$.ajax({url:"TaskManager/ProjectDetails",data:{projectId:n},xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#content").html(null);$("#content").html(n);endLoading()}})}function gotToUserEditPage(n){startLoading();$.ajax({url:"User/EditUser",xhrFields:{withCredentials:!0},data:{userId:n},method:"GET",success:function(n){$("#contentDiv").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}})}function gotToUserDetailsPage(n){startLoading();$.ajax({url:"User/UserDetails",xhrFields:{withCredentials:!0},data:{userId:n},method:"GET",success:function(n){$("#contentDiv").html(n);endLoading()}})}function goToUserIndex(){startLoading();$.ajax({url:"User/Index",xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#content").html(null);$("#content").html(n);endLoading();userpageLoad()}})}function loadTaskManagerMenu(){startLoading();$.ajax({url:"TaskManager/TaskManagerMenu",xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#taskManagerMenu").html(null);$("#taskManagerMenu").html(n);endLoading()}})}function editTogle(){let n=document.querySelector("#editCheckBox").checked;console.log(n);let t=document.getElementsByClassName("visibleIfEditClass");[].forEach.call(t,function(t){t.style.display=n?"block":"none"});t=document.getElementsByClassName("writeIfEditClass");[].forEach.call(t,function(t){t.disabled=!n})}function RemoveUserFromTask(n,t){startLoading();$.ajax({url:"/TaskManager/RemoveUserFromTask?taskId="+t+"&userId="+n,type:"POST",success:function(){endLoading();gotToUserEditPage(n)}})}function RemoveUserFromTaskProject(n,t){startLoading();$.ajax({url:"/TaskManager/RemoveUserFromTask?taskId="+t+"&userId="+n,type:"POST",success:function(){endLoading();goToTaskEdit(t)}})}function RemoveUserFromProject(n,t){startLoading();$.ajax({url:"/TaskManager/RemoveUserFromProject?projectId="+n+"&userId="+t,type:"POST",success:function(){endLoading();gotToUserEditPage(t)}})}function AddUserToProjectUserProjectPAge(n,t){startLoading();$.ajax({url:"/TaskManager/AddOneUserToProject?projectId="+n+"&userId="+t,type:"POST",success:function(){endLoading();goToUsersofProject(n)}})}function RemoveUserFromProjectUserProjectPAge(n,t){startLoading();$.ajax({url:"/TaskManager/RemoveUserFromProject?projectId="+n+"&userId="+t,type:"POST",success:function(){endLoading();goToUsersofProject(n)}})}function RemoveUserFromProjectProjectPage(n,t){startLoading();$.ajax({url:"/TaskManager/RemoveUserFromProject?projectId="+n+"&userId="+t,type:"POST",success:function(){endLoading();goToEditProject(n)}})}function goToTaskManagerCreateProject(){startLoading();$.ajax({url:"TaskManager/CreateProject",xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#taskManagerContent").html(null);$("#taskManagerContent").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");endLoading()}})}function createProject(){var n=$("#createProjectForm"),t;n.valid()&&(startLoading(),t=n.attr("action"),$.ajax({url:t,xhrFields:{withCredentials:!0},data:n.serialize(),method:"POST",success:function(n){$("#taskManagerContent").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");loadTaskManagerMenu();endLoading()},error:function(n){$("#taskManagerContent").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");loadTaskManagerMenu();endLoading()}}))}function taskManagerLoadProject(n){let t=$("#tasksByProject").DataTable({processing:!0,serverSide:!0,scrollX:!0,stateSave:!0,bDestroy:!0,ajax:{url:"TaskManager/ReturnData",data:{projectId:n},type:"POST"},columns:[{data:"id",title:"Id",name:"id",visible:!1},{data:"name",title:"Name",name:"name"},{data:"description",title:"Description",name:"description"},{data:"taskType",title:"Task Type",name:"taskType"},{data:"priority",title:"Priority",name:"priority"},{data:"taskState",title:"State",name:"taskState"}],rowCallback:function(n,t){t.priority=="Urgent"&&$(n).find("td:eq(3)").css("color","#BA0021");t.priority=="High"&&$(n).find("td:eq(3)").css("color","#ffa500");t.priority=="Medium"&&$(n).find("td:eq(3)").css("color","#008000");$(n).find("td:eq(3)").html("<h6>"+t.priority+"<\/h6>")}}),i=$("#tasksByProject").contextMenu({selector:"tr",trigger:"right",callback:function(n,i){var r=t.row(i.$trigger);switch(n){case"edit":goToTaskEdit(r.data().id);break;case"details":goToTaskDetails(r.data().id);break;case"delete":deleteTask(r.data().id);t.ajax.reload()}},items:{edit:{name:"Edit"},details:{name:"Details"},"delete":{name:"Delete"}}})}function deleteTask(n){startLoading();$.ajax({url:"/TaskManager/DeleteTask?taskId="+n,type:"POST","async":!1,done:function(){endLoading()}})}function goToTaskDetails(n){startLoading();$.ajax({url:"TaskManager/TaskDetails",data:{taskId:n},xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#taskManagerContent").html(null);$("#taskManagerContent").html(n);endLoading()}})}function goToTaskEdit(n){startLoading();$.ajax({url:"TaskManager/EditTask",data:{taskId:n},"async":!1,xhrFields:{withCredentials:!0},method:"GET",success:function(n){$("#taskManagerContent").html(null);$("#taskManagerContent").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");$("#datepickerStart").datepicker({dateFormat:"yy-mm-dd",onSelect:function(n){n=n+"T00:01";$("#datepickerStart").val(n);$("#datepickerStart").attr("value",n)}});$("#datepickerEnd").datepicker({dateFormat:"yy-mm-dd",onSelect:function(n){n=n+"T00:01";$("#datepickerEnd").val(n);$("#datepickerEnd").attr("value",n)}});$(".datepicker").each(function(){if($(this).attr("value")!==undefined&&$(this).attr("value")!=""){let n=$(this).attr("value").split("/")[0];n=parseInt(n)>9?n:"0"+n;let t=$(this).attr("value").split("/")[1];t=parseInt(t)>9?t:"0"+t;let r=$(this).attr("value").split("/")[2].split(" ")[0],i=r+"-"+n+"-"+t+"T00:01";console.log(i);$(this).val(i);$(this).attr("value",i)}});endLoading()}})}function modifyTask(){var n=$("#modifyTaskForm"),t;n.valid()&&(startLoading(),t=n.attr("action"),$.ajax({url:t,xhrFields:{withCredentials:!0},data:n.serialize(),method:"POST",success:function(n){$("#taskManagerContent").html(n);$("form").removeData("validator");$("form").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse("form");$("#datepickerStart").datepicker({dateFormat:"yy-mm-dd",onSelect:function(n){n=n+"T00:01";$("#datepickerStart").val(n);$("#datepickerStart").attr("value",n)}});$("#datepickerEnd").datepicker({dateFormat:"yy-mm-dd",onSelect:function(n){n=n+"T00:01";$("#datepickerEnd").val(n);$("#datepickerEnd").attr("value",n)}});$(".datepicker").each(function(){if($(this).attr("value")!==undefined&&$(this).attr("value")!=""){let n=$(this).attr("value").split("/")[0];n=parseInt(n)>9?n:"0"+n;let t=$(this).attr("value").split("/")[1];t=parseInt(t)>9?t:"0"+t;let r=$(this).attr("value").split("/")[2].split(" ")[0],i=r+"-"+n+"-"+t+"T00:01";console.log(i);$(this).val(i);$(this).attr("value",i)}});endLoading()}}))}function adduserToProject(n){var t=$("#adduserToProjectForm"),i;t.valid()&&(startLoading(),i=t.attr("action"),$.ajax({url:i,xhrFields:{withCredentials:!0},data:t.serialize(),method:"POST",success:function(){endLoading();goToEditProject(n)}}))}function addUserToTask(n){var t=$("#addUserToTaskForm"),i;t.valid()&&(startLoading(),i=t.attr("action"),$.ajax({url:i,xhrFields:{withCredentials:!0},data:t.serialize(),method:"POST",success:function(){endLoading();goToTaskEdit(n)}}))}
//# sourceMappingURL=site.min.js.map